   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "accgyro_spi_mpu6500.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .section .text.mpu6500SpiInit,"ax",%progbits
  20              	 .align 2
  21              	 .thumb
  22              	 .thumb_func
  24              	mpu6500SpiInit:
  25              	.LFB535:
  26              	 .file 1 "../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c"
   1:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** /*
   2:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * This file is part of Cleanflight and Betaflight.
   3:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  *
   4:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * Cleanflight and Betaflight are free software. You can redistribute
   5:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * this software and/or modify this software under the terms of the
   6:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * GNU General Public License as published by the Free Software
   7:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * Foundation, either version 3 of the License, or (at your option)
   8:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * any later version.
   9:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  *
  10:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * Cleanflight and Betaflight are distributed in the hope that they
  11:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * will be useful, but WITHOUT ANY WARRANTY; without even the implied
  12:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  13:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * See the GNU General Public License for more details.
  14:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  *
  15:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * You should have received a copy of the GNU General Public License
  16:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * along with this software.
  17:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  *
  18:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  * If not, see <http://www.gnu.org/licenses/>.
  19:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****  */
  20:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  21:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include <stdbool.h>
  22:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include <stdint.h>
  23:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  24:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "platform.h"
  25:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  26:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "common/axis.h"
  27:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "common/maths.h"
  28:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  29:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "drivers/bus_spi.h"
  30:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "drivers/exti.h"
  31:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "drivers/io.h"
  32:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "drivers/sensor.h"
  33:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "drivers/time.h"
  34:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  35:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "accgyro.h"
  36:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "accgyro_mpu.h"
  37:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "accgyro_mpu6500.h"
  38:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #include "accgyro_spi_mpu6500.h"
  39:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  40:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #define BIT_SLEEP                   0x40
  41:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  42:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** static void mpu6500SpiInit(const busDevice_t *bus)
  43:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
  27              	 .loc 1 43 0
  28              	 .cfi_startproc
  29              	 
  30              	 
  31 0000 80B5     	 push {r7,lr}
  32              	.LCFI0:
  33              	 .cfi_def_cfa_offset 8
  34              	 .cfi_offset 7,-8
  35              	 .cfi_offset 14,-4
  36 0002 82B0     	 sub sp,sp,#8
  37              	.LCFI1:
  38              	 .cfi_def_cfa_offset 16
  39 0004 00AF     	 add r7,sp,#0
  40              	.LCFI2:
  41              	 .cfi_def_cfa_register 7
  42 0006 7860     	 str r0,[r7,#4]
  44:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #ifndef USE_DUAL_GYRO
  45:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     IOInit(bus->busdev_u.spi.csnPin, OWNER_MPU_CS, 0);
  43              	 .loc 1 45 0
  44 0008 7B68     	 ldr r3,[r7,#4]
  45 000a D3F80530 	 ldr r3,[r3,#5]
  46 000e 1846     	 mov r0,r3
  47 0010 1C21     	 movs r1,#28
  48 0012 0022     	 movs r2,#0
  49 0014 FFF7FEFF 	 bl IOInit
  46:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     IOConfigGPIO(bus->busdev_u.spi.csnPin, SPI_IO_CS_CFG);
  50              	 .loc 1 46 0
  51 0018 7B68     	 ldr r3,[r7,#4]
  52 001a D3F80530 	 ldr r3,[r3,#5]
  53 001e 1846     	 mov r0,r3
  54 0020 8121     	 movs r1,#129
  55 0022 FFF7FEFF 	 bl IOConfigGPIO
  47:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     IOHi(bus->busdev_u.spi.csnPin);
  56              	 .loc 1 47 0
  57 0026 7B68     	 ldr r3,[r7,#4]
  58 0028 D3F80530 	 ldr r3,[r3,#5]
  59 002c 1846     	 mov r0,r3
  60 002e FFF7FEFF 	 bl IOHi
  48:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** #endif
  49:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  50:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     spiSetDivisor(bus->busdev_u.spi.instance, SPI_CLOCK_FAST);
  61              	 .loc 1 50 0
  62 0032 7B68     	 ldr r3,[r7,#4]
  63 0034 D3F80130 	 ldr r3,[r3,#1]
  64 0038 1846     	 mov r0,r3
  65 003a 0221     	 movs r1,#2
  66 003c FFF7FEFF 	 bl spiSetDivisor
  51:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
  67              	 .loc 1 51 0
  68 0040 0837     	 adds r7,r7,#8
  69              	.LCFI3:
  70              	 .cfi_def_cfa_offset 8
  71 0042 BD46     	 mov sp,r7
  72              	.LCFI4:
  73              	 .cfi_def_cfa_register 13
  74              	 
  75 0044 80BD     	 pop {r7,pc}
  76              	 .cfi_endproc
  77              	.LFE535:
  79 0046 00BF     	 .section .text.mpu6500SpiDetect,"ax",%progbits
  80              	 .align 2
  81              	 .global mpu6500SpiDetect
  82              	 .thumb
  83              	 .thumb_func
  85              	mpu6500SpiDetect:
  86              	.LFB536:
  52:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  53:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** uint8_t mpu6500SpiDetect(const busDevice_t *bus)
  54:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
  87              	 .loc 1 54 0
  88              	 .cfi_startproc
  89              	 
  90              	 
  91 0000 80B5     	 push {r7,lr}
  92              	.LCFI5:
  93              	 .cfi_def_cfa_offset 8
  94              	 .cfi_offset 7,-8
  95              	 .cfi_offset 14,-4
  96 0002 84B0     	 sub sp,sp,#16
  97              	.LCFI6:
  98              	 .cfi_def_cfa_offset 24
  99 0004 00AF     	 add r7,sp,#0
 100              	.LCFI7:
 101              	 .cfi_def_cfa_register 7
 102 0006 7860     	 str r0,[r7,#4]
  55:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     mpu6500SpiInit(bus);
 103              	 .loc 1 55 0
 104 0008 7868     	 ldr r0,[r7,#4]
 105 000a FFF7FEFF 	 bl mpu6500SpiInit
  56:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  57:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     const uint8_t whoAmI = spiBusReadRegister(bus, MPU_RA_WHO_AM_I);
 106              	 .loc 1 57 0
 107 000e 7868     	 ldr r0,[r7,#4]
 108 0010 7521     	 movs r1,#117
 109 0012 FFF7FEFF 	 bl spiBusReadRegister
 110 0016 0346     	 mov r3,r0
 111 0018 BB73     	 strb r3,[r7,#14]
  58:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  59:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     uint8_t mpuDetected = MPU_NONE;
 112              	 .loc 1 59 0
 113 001a 0023     	 movs r3,#0
 114 001c FB73     	 strb r3,[r7,#15]
  60:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     switch (whoAmI) {
 115              	 .loc 1 60 0
 116 001e BB7B     	 ldrb r3,[r7,#14]
 117 0020 712B     	 cmp r3,#113
 118 0022 10D0     	 beq .L4
 119 0024 712B     	 cmp r3,#113
 120 0026 04DC     	 bgt .L5
 121 0028 122B     	 cmp r3,#18
 122 002a 12D0     	 beq .L6
 123 002c 702B     	 cmp r3,#112
 124 002e 07D0     	 beq .L7
 125 0030 15E0     	 b .L3
 126              	.L5:
 127 0032 AC2B     	 cmp r3,#172
 128 0034 0AD0     	 beq .L8
 129 0036 AF2B     	 cmp r3,#175
 130 0038 0ED0     	 beq .L9
 131 003a 732B     	 cmp r3,#115
 132 003c 03D0     	 beq .L4
 133 003e 0EE0     	 b .L3
 134              	.L7:
  61:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU6500_WHO_AM_I_CONST:
  62:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = MPU_65xx_SPI;
 135              	 .loc 1 62 0
 136 0040 0523     	 movs r3,#5
 137 0042 FB73     	 strb r3,[r7,#15]
  63:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 138              	 .loc 1 63 0
 139 0044 0DE0     	 b .L10
 140              	.L4:
  64:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU9250_WHO_AM_I_CONST:
  65:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU9255_WHO_AM_I_CONST:
  66:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = MPU_9250_SPI;
 141              	 .loc 1 66 0
 142 0046 0623     	 movs r3,#6
 143 0048 FB73     	 strb r3,[r7,#15]
  67:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 144              	 .loc 1 67 0
 145 004a 0AE0     	 b .L10
 146              	.L8:
  68:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM20601_WHO_AM_I_CONST:
  69:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = ICM_20601_SPI;
 147              	 .loc 1 69 0
 148 004c 0723     	 movs r3,#7
 149 004e FB73     	 strb r3,[r7,#15]
  70:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 150              	 .loc 1 70 0
 151 0050 07E0     	 b .L10
 152              	.L6:
  71:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM20602_WHO_AM_I_CONST:
  72:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = ICM_20602_SPI;
 153              	 .loc 1 72 0
 154 0052 0823     	 movs r3,#8
 155 0054 FB73     	 strb r3,[r7,#15]
  73:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 156              	 .loc 1 73 0
 157 0056 04E0     	 b .L10
 158              	.L9:
  74:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM20608G_WHO_AM_I_CONST:
  75:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = ICM_20608_SPI;
 159              	 .loc 1 75 0
 160 0058 0923     	 movs r3,#9
 161 005a FB73     	 strb r3,[r7,#15]
  76:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 162              	 .loc 1 76 0
 163 005c 01E0     	 b .L10
 164              	.L3:
  77:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     default:
  78:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         mpuDetected = MPU_NONE;
 165              	 .loc 1 78 0
 166 005e 0023     	 movs r3,#0
 167 0060 FB73     	 strb r3,[r7,#15]
 168              	.L10:
  79:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     }
  80:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     return mpuDetected;
 169              	 .loc 1 80 0
 170 0062 FB7B     	 ldrb r3,[r7,#15]
  81:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
 171              	 .loc 1 81 0
 172 0064 1846     	 mov r0,r3
 173 0066 1037     	 adds r7,r7,#16
 174              	.LCFI8:
 175              	 .cfi_def_cfa_offset 8
 176 0068 BD46     	 mov sp,r7
 177              	.LCFI9:
 178              	 .cfi_def_cfa_register 13
 179              	 
 180 006a 80BD     	 pop {r7,pc}
 181              	 .cfi_endproc
 182              	.LFE536:
 184              	 .section .text.mpu6500SpiAccInit,"ax",%progbits
 185              	 .align 2
 186              	 .global mpu6500SpiAccInit
 187              	 .thumb
 188              	 .thumb_func
 190              	mpu6500SpiAccInit:
 191              	.LFB537:
  82:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  83:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** void mpu6500SpiAccInit(accDev_t *acc)
  84:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
 192              	 .loc 1 84 0
 193              	 .cfi_startproc
 194              	 
 195              	 
 196 0000 80B5     	 push {r7,lr}
 197              	.LCFI10:
 198              	 .cfi_def_cfa_offset 8
 199              	 .cfi_offset 7,-8
 200              	 .cfi_offset 14,-4
 201 0002 82B0     	 sub sp,sp,#8
 202              	.LCFI11:
 203              	 .cfi_def_cfa_offset 16
 204 0004 00AF     	 add r7,sp,#0
 205              	.LCFI12:
 206              	 .cfi_def_cfa_register 7
 207 0006 7860     	 str r0,[r7,#4]
  85:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     mpu6500AccInit(acc);
 208              	 .loc 1 85 0
 209 0008 7868     	 ldr r0,[r7,#4]
 210 000a FFF7FEFF 	 bl mpu6500AccInit
  86:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
 211              	 .loc 1 86 0
 212 000e 0837     	 adds r7,r7,#8
 213              	.LCFI13:
 214              	 .cfi_def_cfa_offset 8
 215 0010 BD46     	 mov sp,r7
 216              	.LCFI14:
 217              	 .cfi_def_cfa_register 13
 218              	 
 219 0012 80BD     	 pop {r7,pc}
 220              	 .cfi_endproc
 221              	.LFE537:
 223              	 .section .text.mpu6500SpiGyroInit,"ax",%progbits
 224              	 .align 2
 225              	 .global mpu6500SpiGyroInit
 226              	 .thumb
 227              	 .thumb_func
 229              	mpu6500SpiGyroInit:
 230              	.LFB538:
  87:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  88:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** void mpu6500SpiGyroInit(gyroDev_t *gyro)
  89:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
 231              	 .loc 1 89 0
 232              	 .cfi_startproc
 233              	 
 234              	 
 235 0000 80B5     	 push {r7,lr}
 236              	.LCFI15:
 237              	 .cfi_def_cfa_offset 8
 238              	 .cfi_offset 7,-8
 239              	 .cfi_offset 14,-4
 240 0002 82B0     	 sub sp,sp,#8
 241              	.LCFI16:
 242              	 .cfi_def_cfa_offset 16
 243 0004 00AF     	 add r7,sp,#0
 244              	.LCFI17:
 245              	 .cfi_def_cfa_register 7
 246 0006 7860     	 str r0,[r7,#4]
  90:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     spiSetDivisor(gyro->bus.busdev_u.spi.instance, SPI_CLOCK_SLOW);
 247              	 .loc 1 90 0
 248 0008 7B68     	 ldr r3,[r7,#4]
 249 000a D3F81130 	 ldr r3,[r3,#17]
 250 000e 1846     	 mov r0,r3
 251 0010 8021     	 movs r1,#128
 252 0012 FFF7FEFF 	 bl spiSetDivisor
  91:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     delayMicroseconds(1);
 253              	 .loc 1 91 0
 254 0016 0120     	 movs r0,#1
 255 0018 FFF7FEFF 	 bl delayMicroseconds
  92:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  93:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     mpu6500GyroInit(gyro);
 256              	 .loc 1 93 0
 257 001c 7868     	 ldr r0,[r7,#4]
 258 001e FFF7FEFF 	 bl mpu6500GyroInit
  94:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  95:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     // Disable Primary I2C Interface
  96:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     spiBusWriteRegister(&gyro->bus, MPU_RA_USER_CTRL, MPU6500_BIT_I2C_IF_DIS);
 259              	 .loc 1 96 0
 260 0022 7B68     	 ldr r3,[r7,#4]
 261 0024 1033     	 adds r3,r3,#16
 262 0026 1846     	 mov r0,r3
 263 0028 6A21     	 movs r1,#106
 264 002a 1022     	 movs r2,#16
 265 002c FFF7FEFF 	 bl spiBusWriteRegister
  97:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     delay(100);
 266              	 .loc 1 97 0
 267 0030 6420     	 movs r0,#100
 268 0032 FFF7FEFF 	 bl delay
  98:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
  99:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     spiSetDivisor(gyro->bus.busdev_u.spi.instance, SPI_CLOCK_FAST);
 269              	 .loc 1 99 0
 270 0036 7B68     	 ldr r3,[r7,#4]
 271 0038 D3F81130 	 ldr r3,[r3,#17]
 272 003c 1846     	 mov r0,r3
 273 003e 0221     	 movs r1,#2
 274 0040 FFF7FEFF 	 bl spiSetDivisor
 100:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     delayMicroseconds(1);
 275              	 .loc 1 100 0
 276 0044 0120     	 movs r0,#1
 277 0046 FFF7FEFF 	 bl delayMicroseconds
 101:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
 278              	 .loc 1 101 0
 279 004a 0837     	 adds r7,r7,#8
 280              	.LCFI18:
 281              	 .cfi_def_cfa_offset 8
 282 004c BD46     	 mov sp,r7
 283              	.LCFI19:
 284              	 .cfi_def_cfa_register 13
 285              	 
 286 004e 80BD     	 pop {r7,pc}
 287              	 .cfi_endproc
 288              	.LFE538:
 290              	 .section .text.mpu6500SpiAccDetect,"ax",%progbits
 291              	 .align 2
 292              	 .global mpu6500SpiAccDetect
 293              	 .thumb
 294              	 .thumb_func
 296              	mpu6500SpiAccDetect:
 297              	.LFB539:
 102:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 103:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** bool mpu6500SpiAccDetect(accDev_t *acc)
 104:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
 298              	 .loc 1 104 0
 299              	 .cfi_startproc
 300              	 
 301              	 
 302              	 
 303 0000 80B4     	 push {r7}
 304              	.LCFI20:
 305              	 .cfi_def_cfa_offset 4
 306              	 .cfi_offset 7,-4
 307 0002 83B0     	 sub sp,sp,#12
 308              	.LCFI21:
 309              	 .cfi_def_cfa_offset 16
 310 0004 00AF     	 add r7,sp,#0
 311              	.LCFI22:
 312              	 .cfi_def_cfa_register 7
 313 0006 7860     	 str r0,[r7,#4]
 105:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     // MPU6500 is used as a equivalent of other accelerometers by some flight controllers
 106:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     switch (acc->mpuDetectionResult.sensor) {
 314              	 .loc 1 106 0
 315 0008 7B68     	 ldr r3,[r7,#4]
 316 000a 5B7E     	 ldrb r3,[r3,#25]
 317 000c 053B     	 subs r3,r3,#5
 318 000e 042B     	 cmp r3,#4
 319 0010 01D9     	 bls .L20
 107:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU_65xx_SPI:
 108:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU_9250_SPI:
 109:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20608_SPI:
 110:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20602_SPI:
 111:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20601_SPI:
 112:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 113:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     default:
 114:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         return false;
 320              	 .loc 1 114 0
 321 0012 0023     	 movs r3,#0
 322 0014 07E0     	 b .L18
 323              	.L20:
 112:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     default:
 324              	 .loc 1 112 0
 325 0016 00BF     	 nop
 115:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     }
 116:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 117:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     acc->initFn = mpu6500SpiAccInit;
 326              	 .loc 1 117 0
 327 0018 7B68     	 ldr r3,[r7,#4]
 328 001a 064A     	 ldr r2,.L21
 329 001c 1A60     	 str r2,[r3]
 118:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     acc->readFn = mpuAccRead;
 330              	 .loc 1 118 0
 331 001e 7B68     	 ldr r3,[r7,#4]
 332 0020 054A     	 ldr r2,.L21+4
 333 0022 5A60     	 str r2,[r3,#4]
 119:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 120:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     return true;
 334              	 .loc 1 120 0
 335 0024 0123     	 movs r3,#1
 336              	.L18:
 121:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
 337              	 .loc 1 121 0
 338 0026 1846     	 mov r0,r3
 339 0028 0C37     	 adds r7,r7,#12
 340              	.LCFI23:
 341              	 .cfi_def_cfa_offset 4
 342 002a BD46     	 mov sp,r7
 343              	.LCFI24:
 344              	 .cfi_def_cfa_register 13
 345              	 
 346 002c 5DF8047B 	 ldr r7,[sp],#4
 347              	.LCFI25:
 348              	 .cfi_restore 7
 349              	 .cfi_def_cfa_offset 0
 350 0030 7047     	 bx lr
 351              	.L22:
 352 0032 00BF     	 .align 2
 353              	.L21:
 354 0034 00000000 	 .word mpu6500SpiAccInit
 355 0038 00000000 	 .word mpuAccRead
 356              	 .cfi_endproc
 357              	.LFE539:
 359              	 .section .text.mpu6500SpiGyroDetect,"ax",%progbits
 360              	 .align 2
 361              	 .global mpu6500SpiGyroDetect
 362              	 .thumb
 363              	 .thumb_func
 365              	mpu6500SpiGyroDetect:
 366              	.LFB540:
 122:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 123:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** bool mpu6500SpiGyroDetect(gyroDev_t *gyro)
 124:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** {
 367              	 .loc 1 124 0
 368              	 .cfi_startproc
 369              	 
 370              	 
 371              	 
 372 0000 80B4     	 push {r7}
 373              	.LCFI26:
 374              	 .cfi_def_cfa_offset 4
 375              	 .cfi_offset 7,-4
 376 0002 83B0     	 sub sp,sp,#12
 377              	.LCFI27:
 378              	 .cfi_def_cfa_offset 16
 379 0004 00AF     	 add r7,sp,#0
 380              	.LCFI28:
 381              	 .cfi_def_cfa_register 7
 382 0006 7860     	 str r0,[r7,#4]
 125:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     // MPU6500 is used as a equivalent of other gyros by some flight controllers
 126:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     switch (gyro->mpuDetectionResult.sensor) {
 383              	 .loc 1 126 0
 384 0008 7B68     	 ldr r3,[r7,#4]
 385 000a 93F85930 	 ldrb r3,[r3,#89]
 386 000e 053B     	 subs r3,r3,#5
 387 0010 042B     	 cmp r3,#4
 388 0012 1ED8     	 bhi .L24
 389 0014 01A2     	 adr r2,.L26
 390 0016 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 391 001a 00BF     	 .p2align 2
 392              	.L26:
 393 001c 31000000 	 .word .L25+1
 394 0020 31000000 	 .word .L25+1
 395 0024 3B000000 	 .word .L27+1
 396 0028 31000000 	 .word .L25+1
 397 002c 31000000 	 .word .L25+1
 398              	 .p2align 1
 399              	.L25:
 127:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU_65xx_SPI:
 128:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case MPU_9250_SPI:
 129:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20608_SPI:
 130:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20602_SPI:
 131:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         // 16.4 dps/lsb scalefactor
 132:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         gyro->scale = 1.0f / 16.4f;
 400              	 .loc 1 132 0
 401 0030 7B68     	 ldr r3,[r7,#4]
 402 0032 1933     	 adds r3,r3,#25
 403 0034 0E4A     	 ldr r2,.L32
 404 0036 1A60     	 str r2,[r3]
 133:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 405              	 .loc 1 133 0
 406 0038 0DE0     	 b .L28
 407              	.L27:
 134:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     case ICM_20601_SPI:
 135:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         gyro->scale = 1.0f / (gyro->gyro_high_fsr ? 8.2f : 16.4f);
 408              	 .loc 1 135 0
 409 003a 7B68     	 ldr r3,[r7,#4]
 410 003c 93F85E30 	 ldrb r3,[r3,#94]
 411 0040 002B     	 cmp r3,#0
 412 0042 01D0     	 beq .L29
 413              	 .loc 1 135 0 is_stmt 0 discriminator 1
 414 0044 0B4A     	 ldr r2,.L32+4
 415 0046 00E0     	 b .L30
 416              	.L29:
 417              	 .loc 1 135 0 discriminator 2
 418 0048 094A     	 ldr r2,.L32
 419              	.L30:
 420              	 .loc 1 135 0 discriminator 4
 421 004a 7B68     	 ldr r3,[r7,#4]
 422 004c 1933     	 adds r3,r3,#25
 423 004e 1A60     	 str r2,[r3]
 136:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         break;
 424              	 .loc 1 136 0 is_stmt 1 discriminator 4
 425 0050 01E0     	 b .L28
 426              	.L24:
 137:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     default:
 138:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****         return false;
 427              	 .loc 1 138 0
 428 0052 0023     	 movs r3,#0
 429 0054 06E0     	 b .L31
 430              	.L28:
 139:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     }
 140:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 141:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     gyro->initFn = mpu6500SpiGyroInit;
 431              	 .loc 1 141 0
 432 0056 7B68     	 ldr r3,[r7,#4]
 433 0058 074A     	 ldr r2,.L32+8
 434 005a 1A60     	 str r2,[r3]
 142:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     gyro->readFn = mpuGyroReadSPI;
 435              	 .loc 1 142 0
 436 005c 7B68     	 ldr r3,[r7,#4]
 437 005e 074A     	 ldr r2,.L32+12
 438 0060 5A60     	 str r2,[r3,#4]
 143:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** 
 144:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c ****     return true;
 439              	 .loc 1 144 0
 440 0062 0123     	 movs r3,#1
 441              	.L31:
 145:../cleanflight/src/main/drivers/accgyro/accgyro_spi_mpu6500.c **** }
 442              	 .loc 1 145 0
 443 0064 1846     	 mov r0,r3
 444 0066 0C37     	 adds r7,r7,#12
 445              	.LCFI29:
 446              	 .cfi_def_cfa_offset 4
 447 0068 BD46     	 mov sp,r7
 448              	.LCFI30:
 449              	 .cfi_def_cfa_register 13
 450              	 
 451 006a 5DF8047B 	 ldr r7,[sp],#4
 452              	.LCFI31:
 453              	 .cfi_restore 7
 454              	 .cfi_def_cfa_offset 0
 455 006e 7047     	 bx lr
 456              	.L33:
 457              	 .align 2
 458              	.L32:
 459 0070 90C1793D 	 .word 1031389584
 460 0074 90C1F93D 	 .word 1039778192
 461 0078 00000000 	 .word mpu6500SpiGyroInit
 462 007c 00000000 	 .word mpuGyroReadSPI
 463              	 .cfi_endproc
 464              	.LFE540:
 466              	 .text
 467              	.Letext0:
 468              	 .file 2 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 469              	 .file 3 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 470              	 .file 4 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/xmc4700.h"
 471              	 .file 5 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/platform.h"
 472              	 .file 6 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/io_types.h"
 473              	 .file 7 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/XMCLib/inc/xmc4_gpio.h"
 474              	 .file 8 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus_i2c.h"
 475              	 .file 9 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus.h"
 476              	 .file 10 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus_spi.h"
 477              	 .file 11 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/exti.h"
 478              	 .file 12 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/resource.h"
 479              	 .file 13 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/sensor.h"
 480              	 .file 14 "../cleanflight/src/main/drivers/accgyro/accgyro.h"
 481              	 .file 15 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/common/time.h"
 482              	 .file 16 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/accgyro/accgyro_mpu.h"
 483              	 .file 17 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/sensors/gyro.h"
 484              	 .file 18 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/CMSIS/Core/Include/core_cm4.h"
 485              	 .file 19 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/system_XMC4700.h"
DEFINED SYMBOLS
                            *ABS*:00000000 accgyro_spi_mpu6500.c
    {standard input}:20     .text.mpu6500SpiInit:00000000 $t
    {standard input}:24     .text.mpu6500SpiInit:00000000 mpu6500SpiInit
    {standard input}:80     .text.mpu6500SpiDetect:00000000 $t
    {standard input}:85     .text.mpu6500SpiDetect:00000000 mpu6500SpiDetect
    {standard input}:185    .text.mpu6500SpiAccInit:00000000 $t
    {standard input}:190    .text.mpu6500SpiAccInit:00000000 mpu6500SpiAccInit
    {standard input}:224    .text.mpu6500SpiGyroInit:00000000 $t
    {standard input}:229    .text.mpu6500SpiGyroInit:00000000 mpu6500SpiGyroInit
    {standard input}:291    .text.mpu6500SpiAccDetect:00000000 $t
    {standard input}:296    .text.mpu6500SpiAccDetect:00000000 mpu6500SpiAccDetect
    {standard input}:354    .text.mpu6500SpiAccDetect:00000034 $d
    {standard input}:360    .text.mpu6500SpiGyroDetect:00000000 $t
    {standard input}:365    .text.mpu6500SpiGyroDetect:00000000 mpu6500SpiGyroDetect
    {standard input}:393    .text.mpu6500SpiGyroDetect:0000001c $d
    {standard input}:398    .text.mpu6500SpiGyroDetect:00000030 $t
    {standard input}:459    .text.mpu6500SpiGyroDetect:00000070 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
IOInit
IOConfigGPIO
IOHi
spiSetDivisor
spiBusReadRegister
mpu6500AccInit
delayMicroseconds
mpu6500GyroInit
spiBusWriteRegister
delay
mpuAccRead
mpuGyroReadSPI
