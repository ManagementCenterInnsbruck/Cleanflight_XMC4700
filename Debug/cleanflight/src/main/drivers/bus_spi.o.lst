   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "bus_spi.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .comm spiDevice,6594,4
  20              	 .section .text.spiDeviceByInstance,"ax",%progbits
  21              	 .align 2
  22              	 .global spiDeviceByInstance
  23              	 .thumb
  24              	 .thumb_func
  26              	spiDeviceByInstance:
  27              	.LFB526:
  28              	 .file 1 "../cleanflight/src/main/drivers/bus_spi.c"
   1:../cleanflight/src/main/drivers/bus_spi.c **** /*
   2:../cleanflight/src/main/drivers/bus_spi.c ****  * This file is part of Cleanflight and Betaflight.
   3:../cleanflight/src/main/drivers/bus_spi.c ****  *
   4:../cleanflight/src/main/drivers/bus_spi.c ****  * Cleanflight and Betaflight are free software. You can redistribute
   5:../cleanflight/src/main/drivers/bus_spi.c ****  * this software and/or modify this software under the terms of the
   6:../cleanflight/src/main/drivers/bus_spi.c ****  * GNU General Public License as published by the Free Software
   7:../cleanflight/src/main/drivers/bus_spi.c ****  * Foundation, either version 3 of the License, or (at your option)
   8:../cleanflight/src/main/drivers/bus_spi.c ****  * any later version.
   9:../cleanflight/src/main/drivers/bus_spi.c ****  *
  10:../cleanflight/src/main/drivers/bus_spi.c ****  * Cleanflight and Betaflight are distributed in the hope that they
  11:../cleanflight/src/main/drivers/bus_spi.c ****  * will be useful, but WITHOUT ANY WARRANTY; without even the implied
  12:../cleanflight/src/main/drivers/bus_spi.c ****  * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  13:../cleanflight/src/main/drivers/bus_spi.c ****  * See the GNU General Public License for more details.
  14:../cleanflight/src/main/drivers/bus_spi.c ****  *
  15:../cleanflight/src/main/drivers/bus_spi.c ****  * You should have received a copy of the GNU General Public License
  16:../cleanflight/src/main/drivers/bus_spi.c ****  * along with this software.
  17:../cleanflight/src/main/drivers/bus_spi.c ****  *
  18:../cleanflight/src/main/drivers/bus_spi.c ****  * If not, see <http://www.gnu.org/licenses/>.
  19:../cleanflight/src/main/drivers/bus_spi.c ****  */
  20:../cleanflight/src/main/drivers/bus_spi.c **** 
  21:../cleanflight/src/main/drivers/bus_spi.c **** #include <stdbool.h>
  22:../cleanflight/src/main/drivers/bus_spi.c **** #include <stdint.h>
  23:../cleanflight/src/main/drivers/bus_spi.c **** #include <string.h>
  24:../cleanflight/src/main/drivers/bus_spi.c **** 
  25:../cleanflight/src/main/drivers/bus_spi.c **** #include "platform.h"
  26:../cleanflight/src/main/drivers/bus_spi.c **** 
  27:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI
  28:../cleanflight/src/main/drivers/bus_spi.c **** 
  29:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/bus.h"
  30:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/bus_spi.h"
  31:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/bus_spi_impl.h"
  32:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/exti.h"
  33:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/io.h"
  34:../cleanflight/src/main/drivers/bus_spi.c **** #include "drivers/rcc.h"
  35:../cleanflight/src/main/drivers/bus_spi.c **** 
  36:../cleanflight/src/main/drivers/bus_spi.c **** spiDevice_t spiDevice[SPIDEV_COUNT];
  37:../cleanflight/src/main/drivers/bus_spi.c **** 
  38:../cleanflight/src/main/drivers/bus_spi.c **** SPIDevice spiDeviceByInstance(SPI_TypeDef *instance)
  39:../cleanflight/src/main/drivers/bus_spi.c **** {
  29              	 .loc 1 39 0
  30              	 .cfi_startproc
  31              	 
  32              	 
  33              	 
  34 0000 80B4     	 push {r7}
  35              	.LCFI0:
  36              	 .cfi_def_cfa_offset 4
  37              	 .cfi_offset 7,-4
  38 0002 83B0     	 sub sp,sp,#12
  39              	.LCFI1:
  40              	 .cfi_def_cfa_offset 16
  41 0004 00AF     	 add r7,sp,#0
  42              	.LCFI2:
  43              	 .cfi_def_cfa_register 7
  44 0006 7860     	 str r0,[r7,#4]
  40:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_1
  41:../cleanflight/src/main/drivers/bus_spi.c ****     if (instance == SPI1)
  42:../cleanflight/src/main/drivers/bus_spi.c ****         return SPIDEV_1;
  43:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  44:../cleanflight/src/main/drivers/bus_spi.c **** 
  45:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_2
  46:../cleanflight/src/main/drivers/bus_spi.c ****     if (instance == SPI2)
  45              	 .loc 1 46 0
  46 0008 7B68     	 ldr r3,[r7,#4]
  47 000a 064A     	 ldr r2,.L4
  48 000c 9342     	 cmp r3,r2
  49 000e 01D1     	 bne .L2
  47:../cleanflight/src/main/drivers/bus_spi.c ****         return SPIDEV_2;
  50              	 .loc 1 47 0
  51 0010 0123     	 movs r3,#1
  52 0012 00E0     	 b .L3
  53              	.L2:
  48:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  49:../cleanflight/src/main/drivers/bus_spi.c **** 
  50:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_3
  51:../cleanflight/src/main/drivers/bus_spi.c ****     if (instance == SPI3)
  52:../cleanflight/src/main/drivers/bus_spi.c ****         return SPIDEV_3;
  53:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  54:../cleanflight/src/main/drivers/bus_spi.c **** 
  55:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_4
  56:../cleanflight/src/main/drivers/bus_spi.c ****     if (instance == SPI4)
  57:../cleanflight/src/main/drivers/bus_spi.c ****         return SPIDEV_4;
  58:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  59:../cleanflight/src/main/drivers/bus_spi.c **** 
  60:../cleanflight/src/main/drivers/bus_spi.c ****     return SPIINVALID;
  54              	 .loc 1 60 0
  55 0014 FF23     	 movs r3,#255
  56              	.L3:
  57 0016 5BB2     	 sxtb r3,r3
  61:../cleanflight/src/main/drivers/bus_spi.c **** }
  58              	 .loc 1 61 0
  59 0018 1846     	 mov r0,r3
  60 001a 0C37     	 adds r7,r7,#12
  61              	.LCFI3:
  62              	 .cfi_def_cfa_offset 4
  63 001c BD46     	 mov sp,r7
  64              	.LCFI4:
  65              	 .cfi_def_cfa_register 13
  66              	 
  67 001e 5DF8047B 	 ldr r7,[sp],#4
  68              	.LCFI5:
  69              	 .cfi_restore 7
  70              	 .cfi_def_cfa_offset 0
  71 0022 7047     	 bx lr
  72              	.L5:
  73              	 .align 2
  74              	.L4:
  75 0024 00020340 	 .word 1073938944
  76              	 .cfi_endproc
  77              	.LFE526:
  79              	 .section .text.spiInstanceByDevice,"ax",%progbits
  80              	 .align 2
  81              	 .global spiInstanceByDevice
  82              	 .thumb
  83              	 .thumb_func
  85              	spiInstanceByDevice:
  86              	.LFB527:
  62:../cleanflight/src/main/drivers/bus_spi.c **** 
  63:../cleanflight/src/main/drivers/bus_spi.c **** SPI_TypeDef *spiInstanceByDevice(SPIDevice device)
  64:../cleanflight/src/main/drivers/bus_spi.c **** {
  87              	 .loc 1 64 0
  88              	 .cfi_startproc
  89              	 
  90              	 
  91              	 
  92 0000 80B4     	 push {r7}
  93              	.LCFI6:
  94              	 .cfi_def_cfa_offset 4
  95              	 .cfi_offset 7,-4
  96 0002 83B0     	 sub sp,sp,#12
  97              	.LCFI7:
  98              	 .cfi_def_cfa_offset 16
  99 0004 00AF     	 add r7,sp,#0
 100              	.LCFI8:
 101              	 .cfi_def_cfa_register 7
 102 0006 0346     	 mov r3,r0
 103 0008 FB71     	 strb r3,[r7,#7]
  65:../cleanflight/src/main/drivers/bus_spi.c ****     if (device >= SPIDEV_COUNT) {
 104              	 .loc 1 65 0
 105 000a 97F90730 	 ldrsb r3,[r7,#7]
 106 000e 052B     	 cmp r3,#5
 107 0010 01DD     	 ble .L7
  66:../cleanflight/src/main/drivers/bus_spi.c ****         return NULL;
 108              	 .loc 1 66 0
 109 0012 0023     	 movs r3,#0
 110 0014 0AE0     	 b .L8
 111              	.L7:
  67:../cleanflight/src/main/drivers/bus_spi.c ****     }
  68:../cleanflight/src/main/drivers/bus_spi.c **** 
  69:../cleanflight/src/main/drivers/bus_spi.c ****     return spiDevice[device].dev;
 112              	 .loc 1 69 0
 113 0016 97F90730 	 ldrsb r3,[r7,#7]
 114 001a 074A     	 ldr r2,.L9
 115 001c 40F24B41 	 movw r1,#1099
 116 0020 01FB03F3 	 mul r3,r1,r3
 117 0024 1344     	 add r3,r3,r2
 118 0026 3033     	 adds r3,r3,#48
 119 0028 D3F80330 	 ldr r3,[r3,#3]
 120              	.L8:
  70:../cleanflight/src/main/drivers/bus_spi.c **** }
 121              	 .loc 1 70 0
 122 002c 1846     	 mov r0,r3
 123 002e 0C37     	 adds r7,r7,#12
 124              	.LCFI9:
 125              	 .cfi_def_cfa_offset 4
 126 0030 BD46     	 mov sp,r7
 127              	.LCFI10:
 128              	 .cfi_def_cfa_register 13
 129              	 
 130 0032 5DF8047B 	 ldr r7,[sp],#4
 131              	.LCFI11:
 132              	 .cfi_restore 7
 133              	 .cfi_def_cfa_offset 0
 134 0036 7047     	 bx lr
 135              	.L10:
 136              	 .align 2
 137              	.L9:
 138 0038 00000000 	 .word spiDevice
 139              	 .cfi_endproc
 140              	.LFE527:
 142              	 .section .text.spiInit,"ax",%progbits
 143              	 .align 2
 144              	 .global spiInit
 145              	 .thumb
 146              	 .thumb_func
 148              	spiInit:
 149              	.LFB528:
  71:../cleanflight/src/main/drivers/bus_spi.c **** 
  72:../cleanflight/src/main/drivers/bus_spi.c **** bool spiInit(SPIDevice device)
  73:../cleanflight/src/main/drivers/bus_spi.c **** {
 150              	 .loc 1 73 0
 151              	 .cfi_startproc
 152              	 
 153              	 
 154 0000 80B5     	 push {r7,lr}
 155              	.LCFI12:
 156              	 .cfi_def_cfa_offset 8
 157              	 .cfi_offset 7,-8
 158              	 .cfi_offset 14,-4
 159 0002 82B0     	 sub sp,sp,#8
 160              	.LCFI13:
 161              	 .cfi_def_cfa_offset 16
 162 0004 00AF     	 add r7,sp,#0
 163              	.LCFI14:
 164              	 .cfi_def_cfa_register 7
 165 0006 0346     	 mov r3,r0
 166 0008 FB71     	 strb r3,[r7,#7]
  74:../cleanflight/src/main/drivers/bus_spi.c ****     switch (device) {
 167              	 .loc 1 74 0
 168 000a 97F90730 	 ldrsb r3,[r7,#7]
 169 000e 0133     	 adds r3,r3,#1
 170 0010 062B     	 cmp r3,#6
 171 0012 21D8     	 bhi .L12
 172 0014 01A2     	 adr r2,.L14
 173 0016 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 174 001a 00BF     	 .p2align 2
 175              	.L14:
 176 001c 39000000 	 .word .L13+1
 177 0020 59000000 	 .word .L12+1
 178 0024 3D000000 	 .word .L16+1
 179 0028 4B000000 	 .word .L17+1
 180 002c 59000000 	 .word .L12+1
 181 0030 59000000 	 .word .L12+1
 182 0034 59000000 	 .word .L12+1
 183              	 .p2align 1
 184              	.L13:
  75:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIINVALID:
  76:../cleanflight/src/main/drivers/bus_spi.c ****         return false;
 185              	 .loc 1 76 0
 186 0038 0023     	 movs r3,#0
 187 003a 0EE0     	 b .L21
 188              	.L16:
  77:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_1:
  78:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_1
  79:../cleanflight/src/main/drivers/bus_spi.c ****         spiInitDevice(device);
  80:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
  81:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_1)
  82:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
  83:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
  84:../cleanflight/src/main/drivers/bus_spi.c **** #else
  85:../cleanflight/src/main/drivers/bus_spi.c ****         break;
  86:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  87:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_2:
  88:../cleanflight/src/main/drivers/bus_spi.c **** #ifdef USE_SPI_DEVICE_2
  89:../cleanflight/src/main/drivers/bus_spi.c ****         spiInitDevice(device);
 189              	 .loc 1 89 0
 190 003c 97F90730 	 ldrsb r3,[r7,#7]
 191 0040 1846     	 mov r0,r3
 192 0042 FFF7FEFF 	 bl spiInitDevice
  90:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 193              	 .loc 1 90 0
 194 0046 0123     	 movs r3,#1
 195 0048 07E0     	 b .L21
 196              	.L17:
  91:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_2)
  92:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
  93:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
  94:../cleanflight/src/main/drivers/bus_spi.c **** #else
  95:../cleanflight/src/main/drivers/bus_spi.c ****         break;
  96:../cleanflight/src/main/drivers/bus_spi.c **** #endif
  97:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_3:
  98:../cleanflight/src/main/drivers/bus_spi.c **** #if defined(USE_SPI_DEVICE_3) && !defined(STM32F1)
  99:../cleanflight/src/main/drivers/bus_spi.c ****         spiInitDevice(device);
 100:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 101:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_3)
 102:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
 197              	 .loc 1 102 0
 198 004a 97F90730 	 ldrsb r3,[r7,#7]
 199 004e 1846     	 mov r0,r3
 200 0050 FFF7FEFF 	 bl spiSlaveInitDevice
 103:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 201              	 .loc 1 103 0
 202 0054 0123     	 movs r3,#1
 203 0056 00E0     	 b .L21
 204              	.L12:
 104:../cleanflight/src/main/drivers/bus_spi.c **** #else
 105:../cleanflight/src/main/drivers/bus_spi.c ****         break;
 106:../cleanflight/src/main/drivers/bus_spi.c **** #endif
 107:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_4:
 108:../cleanflight/src/main/drivers/bus_spi.c **** #if defined(USE_SPI_DEVICE_4)
 109:../cleanflight/src/main/drivers/bus_spi.c ****         spiInitDevice(device);
 110:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 111:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_4)
 112:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
 113:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 114:../cleanflight/src/main/drivers/bus_spi.c **** #else
 115:../cleanflight/src/main/drivers/bus_spi.c ****         break;
 116:../cleanflight/src/main/drivers/bus_spi.c **** #endif
 117:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_5:
 118:../cleanflight/src/main/drivers/bus_spi.c **** #if defined(USE_SPI_DEVICE_5)
 119:../cleanflight/src/main/drivers/bus_spi.c ****     	spiInitDevice(device);
 120:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_5)
 121:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
 122:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 123:../cleanflight/src/main/drivers/bus_spi.c **** #else
 124:../cleanflight/src/main/drivers/bus_spi.c ****     	break;
 125:../cleanflight/src/main/drivers/bus_spi.c **** #endif
 126:../cleanflight/src/main/drivers/bus_spi.c ****     case SPIDEV_6:
 127:../cleanflight/src/main/drivers/bus_spi.c **** #if defined(USE_SPI_DEVICE_6)
 128:../cleanflight/src/main/drivers/bus_spi.c ****     	spiInitDevice(device);
 129:../cleanflight/src/main/drivers/bus_spi.c **** #elif defined(USE_SPIS_DEVICE_6)
 130:../cleanflight/src/main/drivers/bus_spi.c ****         spiSlaveInitDevice(device);
 131:../cleanflight/src/main/drivers/bus_spi.c ****         return true;
 132:../cleanflight/src/main/drivers/bus_spi.c **** #else
 133:../cleanflight/src/main/drivers/bus_spi.c ****     	break;
 134:../cleanflight/src/main/drivers/bus_spi.c **** #endif
 135:../cleanflight/src/main/drivers/bus_spi.c ****     }
 136:../cleanflight/src/main/drivers/bus_spi.c ****     return false;
 205              	 .loc 1 136 0
 206 0058 0023     	 movs r3,#0
 207              	.L21:
 137:../cleanflight/src/main/drivers/bus_spi.c **** }
 208              	 .loc 1 137 0
 209 005a 1846     	 mov r0,r3
 210 005c 0837     	 adds r7,r7,#8
 211              	.LCFI15:
 212              	 .cfi_def_cfa_offset 8
 213 005e BD46     	 mov sp,r7
 214              	.LCFI16:
 215              	 .cfi_def_cfa_register 13
 216              	 
 217 0060 80BD     	 pop {r7,pc}
 218              	 .cfi_endproc
 219              	.LFE528:
 221 0062 00BF     	 .section .text.spiTimeoutUserCallback,"ax",%progbits
 222              	 .align 2
 223              	 .global spiTimeoutUserCallback
 224              	 .thumb
 225              	 .thumb_func
 227              	spiTimeoutUserCallback:
 228              	.LFB529:
 138:../cleanflight/src/main/drivers/bus_spi.c **** 
 139:../cleanflight/src/main/drivers/bus_spi.c **** uint32_t spiTimeoutUserCallback(SPI_TypeDef *instance)
 140:../cleanflight/src/main/drivers/bus_spi.c **** {
 229              	 .loc 1 140 0
 230              	 .cfi_startproc
 231              	 
 232              	 
 233 0000 80B5     	 push {r7,lr}
 234              	.LCFI17:
 235              	 .cfi_def_cfa_offset 8
 236              	 .cfi_offset 7,-8
 237              	 .cfi_offset 14,-4
 238 0002 84B0     	 sub sp,sp,#16
 239              	.LCFI18:
 240              	 .cfi_def_cfa_offset 24
 241 0004 00AF     	 add r7,sp,#0
 242              	.LCFI19:
 243              	 .cfi_def_cfa_register 7
 244 0006 7860     	 str r0,[r7,#4]
 141:../cleanflight/src/main/drivers/bus_spi.c ****     SPIDevice device = spiDeviceByInstance(instance);
 245              	 .loc 1 141 0
 246 0008 7868     	 ldr r0,[r7,#4]
 247 000a FFF7FEFF 	 bl spiDeviceByInstance
 248 000e 0346     	 mov r3,r0
 249 0010 FB73     	 strb r3,[r7,#15]
 142:../cleanflight/src/main/drivers/bus_spi.c ****     if (device == SPIINVALID) {
 250              	 .loc 1 142 0
 251 0012 97F90F30 	 ldrsb r3,[r7,#15]
 252 0016 B3F1FF3F 	 cmp r3,#-1
 253 001a 02D1     	 bne .L23
 143:../cleanflight/src/main/drivers/bus_spi.c ****         return -1;
 254              	 .loc 1 143 0
 255 001c 4FF0FF33 	 mov r3,#-1
 256 0020 25E0     	 b .L24
 257              	.L23:
 144:../cleanflight/src/main/drivers/bus_spi.c ****     }
 145:../cleanflight/src/main/drivers/bus_spi.c ****     spiDevice[device].errorCount++;
 258              	 .loc 1 145 0
 259 0022 97F90F30 	 ldrsb r3,[r7,#15]
 260 0026 1449     	 ldr r1,.L25
 261 0028 40F24B42 	 movw r2,#1099
 262 002c 02FB03F2 	 mul r2,r2,r3
 263 0030 0A44     	 add r2,r2,r1
 264 0032 02F58962 	 add r2,r2,#1096
 265 0036 1288     	 ldrh r2,[r2]
 266 0038 92B2     	 uxth r2,r2
 267 003a 0132     	 adds r2,r2,#1
 268 003c 92B2     	 uxth r2,r2
 269 003e 0E49     	 ldr r1,.L25
 270 0040 40F24B40 	 movw r0,#1099
 271 0044 00FB03F3 	 mul r3,r0,r3
 272 0048 0B44     	 add r3,r3,r1
 273 004a 03F58963 	 add r3,r3,#1096
 274 004e 1988     	 ldrh r1,[r3]
 275 0050 0021     	 movs r1,#0
 276 0052 0A43     	 orrs r2,r2,r1
 277 0054 1A80     	 strh r2,[r3]
 146:../cleanflight/src/main/drivers/bus_spi.c ****     return spiDevice[device].errorCount;
 278              	 .loc 1 146 0
 279 0056 97F90F30 	 ldrsb r3,[r7,#15]
 280 005a 074A     	 ldr r2,.L25
 281 005c 40F24B41 	 movw r1,#1099
 282 0060 01FB03F3 	 mul r3,r1,r3
 283 0064 1344     	 add r3,r3,r2
 284 0066 03F58963 	 add r3,r3,#1096
 285 006a 1B88     	 ldrh r3,[r3]
 286 006c 9BB2     	 uxth r3,r3
 287              	.L24:
 147:../cleanflight/src/main/drivers/bus_spi.c **** }
 288              	 .loc 1 147 0
 289 006e 1846     	 mov r0,r3
 290 0070 1037     	 adds r7,r7,#16
 291              	.LCFI20:
 292              	 .cfi_def_cfa_offset 8
 293 0072 BD46     	 mov sp,r7
 294              	.LCFI21:
 295              	 .cfi_def_cfa_register 13
 296              	 
 297 0074 80BD     	 pop {r7,pc}
 298              	.L26:
 299 0076 00BF     	 .align 2
 300              	.L25:
 301 0078 00000000 	 .word spiDevice
 302              	 .cfi_endproc
 303              	.LFE529:
 305              	 .section .text.spiBusTransfer,"ax",%progbits
 306              	 .align 2
 307              	 .global spiBusTransfer
 308              	 .thumb
 309              	 .thumb_func
 311              	spiBusTransfer:
 312              	.LFB530:
 148:../cleanflight/src/main/drivers/bus_spi.c **** 
 149:../cleanflight/src/main/drivers/bus_spi.c **** bool spiBusTransfer(const busDevice_t *bus, const uint8_t *txData, uint8_t *rxData, int length)
 150:../cleanflight/src/main/drivers/bus_spi.c **** {
 313              	 .loc 1 150 0
 314              	 .cfi_startproc
 315              	 
 316              	 
 317 0000 80B5     	 push {r7,lr}
 318              	.LCFI22:
 319              	 .cfi_def_cfa_offset 8
 320              	 .cfi_offset 7,-8
 321              	 .cfi_offset 14,-4
 322 0002 84B0     	 sub sp,sp,#16
 323              	.LCFI23:
 324              	 .cfi_def_cfa_offset 24
 325 0004 00AF     	 add r7,sp,#0
 326              	.LCFI24:
 327              	 .cfi_def_cfa_register 7
 328 0006 F860     	 str r0,[r7,#12]
 329 0008 B960     	 str r1,[r7,#8]
 330 000a 7A60     	 str r2,[r7,#4]
 331 000c 3B60     	 str r3,[r7]
 151:../cleanflight/src/main/drivers/bus_spi.c ****     IOLo(bus->busdev_u.spi.csnPin);
 332              	 .loc 1 151 0
 333 000e FB68     	 ldr r3,[r7,#12]
 334 0010 D3F80530 	 ldr r3,[r3,#5]
 335 0014 1846     	 mov r0,r3
 336 0016 FFF7FEFF 	 bl IOLo
 152:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransfer(bus->busdev_u.spi.instance, txData, rxData, length);
 337              	 .loc 1 152 0
 338 001a FB68     	 ldr r3,[r7,#12]
 339 001c D3F80130 	 ldr r3,[r3,#1]
 340 0020 1846     	 mov r0,r3
 341 0022 B968     	 ldr r1,[r7,#8]
 342 0024 7A68     	 ldr r2,[r7,#4]
 343 0026 3B68     	 ldr r3,[r7]
 344 0028 FFF7FEFF 	 bl spiTransfer
 153:../cleanflight/src/main/drivers/bus_spi.c ****     IOHi(bus->busdev_u.spi.csnPin);
 345              	 .loc 1 153 0
 346 002c FB68     	 ldr r3,[r7,#12]
 347 002e D3F80530 	 ldr r3,[r3,#5]
 348 0032 1846     	 mov r0,r3
 349 0034 FFF7FEFF 	 bl IOHi
 154:../cleanflight/src/main/drivers/bus_spi.c ****     return true;
 350              	 .loc 1 154 0
 351 0038 0123     	 movs r3,#1
 155:../cleanflight/src/main/drivers/bus_spi.c **** }
 352              	 .loc 1 155 0
 353 003a 1846     	 mov r0,r3
 354 003c 1037     	 adds r7,r7,#16
 355              	.LCFI25:
 356              	 .cfi_def_cfa_offset 8
 357 003e BD46     	 mov sp,r7
 358              	.LCFI26:
 359              	 .cfi_def_cfa_register 13
 360              	 
 361 0040 80BD     	 pop {r7,pc}
 362              	 .cfi_endproc
 363              	.LFE530:
 365 0042 00BF     	 .section .text.spiGetErrorCounter,"ax",%progbits
 366              	 .align 2
 367              	 .global spiGetErrorCounter
 368              	 .thumb
 369              	 .thumb_func
 371              	spiGetErrorCounter:
 372              	.LFB531:
 156:../cleanflight/src/main/drivers/bus_spi.c **** 
 157:../cleanflight/src/main/drivers/bus_spi.c **** uint16_t spiGetErrorCounter(SPI_TypeDef *instance)
 158:../cleanflight/src/main/drivers/bus_spi.c **** {
 373              	 .loc 1 158 0
 374              	 .cfi_startproc
 375              	 
 376              	 
 377 0000 80B5     	 push {r7,lr}
 378              	.LCFI27:
 379              	 .cfi_def_cfa_offset 8
 380              	 .cfi_offset 7,-8
 381              	 .cfi_offset 14,-4
 382 0002 84B0     	 sub sp,sp,#16
 383              	.LCFI28:
 384              	 .cfi_def_cfa_offset 24
 385 0004 00AF     	 add r7,sp,#0
 386              	.LCFI29:
 387              	 .cfi_def_cfa_register 7
 388 0006 7860     	 str r0,[r7,#4]
 159:../cleanflight/src/main/drivers/bus_spi.c ****     SPIDevice device = spiDeviceByInstance(instance);
 389              	 .loc 1 159 0
 390 0008 7868     	 ldr r0,[r7,#4]
 391 000a FFF7FEFF 	 bl spiDeviceByInstance
 392 000e 0346     	 mov r3,r0
 393 0010 FB73     	 strb r3,[r7,#15]
 160:../cleanflight/src/main/drivers/bus_spi.c ****     if (device == SPIINVALID) {
 394              	 .loc 1 160 0
 395 0012 97F90F30 	 ldrsb r3,[r7,#15]
 396 0016 B3F1FF3F 	 cmp r3,#-1
 397 001a 01D1     	 bne .L30
 161:../cleanflight/src/main/drivers/bus_spi.c ****         return 0;
 398              	 .loc 1 161 0
 399 001c 0023     	 movs r3,#0
 400 001e 0BE0     	 b .L31
 401              	.L30:
 162:../cleanflight/src/main/drivers/bus_spi.c ****     }
 163:../cleanflight/src/main/drivers/bus_spi.c ****     return spiDevice[device].errorCount;
 402              	 .loc 1 163 0
 403 0020 97F90F30 	 ldrsb r3,[r7,#15]
 404 0024 064A     	 ldr r2,.L32
 405 0026 40F24B41 	 movw r1,#1099
 406 002a 01FB03F3 	 mul r3,r1,r3
 407 002e 1344     	 add r3,r3,r2
 408 0030 03F58963 	 add r3,r3,#1096
 409 0034 1B88     	 ldrh r3,[r3]
 410 0036 9BB2     	 uxth r3,r3
 411              	.L31:
 164:../cleanflight/src/main/drivers/bus_spi.c **** }
 412              	 .loc 1 164 0
 413 0038 1846     	 mov r0,r3
 414 003a 1037     	 adds r7,r7,#16
 415              	.LCFI30:
 416              	 .cfi_def_cfa_offset 8
 417 003c BD46     	 mov sp,r7
 418              	.LCFI31:
 419              	 .cfi_def_cfa_register 13
 420              	 
 421 003e 80BD     	 pop {r7,pc}
 422              	.L33:
 423              	 .align 2
 424              	.L32:
 425 0040 00000000 	 .word spiDevice
 426              	 .cfi_endproc
 427              	.LFE531:
 429              	 .section .text.spiResetErrorCounter,"ax",%progbits
 430              	 .align 2
 431              	 .global spiResetErrorCounter
 432              	 .thumb
 433              	 .thumb_func
 435              	spiResetErrorCounter:
 436              	.LFB532:
 165:../cleanflight/src/main/drivers/bus_spi.c **** 
 166:../cleanflight/src/main/drivers/bus_spi.c **** void spiResetErrorCounter(SPI_TypeDef *instance)
 167:../cleanflight/src/main/drivers/bus_spi.c **** {
 437              	 .loc 1 167 0
 438              	 .cfi_startproc
 439              	 
 440              	 
 441 0000 80B5     	 push {r7,lr}
 442              	.LCFI32:
 443              	 .cfi_def_cfa_offset 8
 444              	 .cfi_offset 7,-8
 445              	 .cfi_offset 14,-4
 446 0002 84B0     	 sub sp,sp,#16
 447              	.LCFI33:
 448              	 .cfi_def_cfa_offset 24
 449 0004 00AF     	 add r7,sp,#0
 450              	.LCFI34:
 451              	 .cfi_def_cfa_register 7
 452 0006 7860     	 str r0,[r7,#4]
 168:../cleanflight/src/main/drivers/bus_spi.c ****     SPIDevice device = spiDeviceByInstance(instance);
 453              	 .loc 1 168 0
 454 0008 7868     	 ldr r0,[r7,#4]
 455 000a FFF7FEFF 	 bl spiDeviceByInstance
 456 000e 0346     	 mov r3,r0
 457 0010 FB73     	 strb r3,[r7,#15]
 169:../cleanflight/src/main/drivers/bus_spi.c ****     if (device != SPIINVALID) {
 458              	 .loc 1 169 0
 459 0012 97F90F30 	 ldrsb r3,[r7,#15]
 460 0016 B3F1FF3F 	 cmp r3,#-1
 461 001a 0CD0     	 beq .L34
 170:../cleanflight/src/main/drivers/bus_spi.c ****         spiDevice[device].errorCount = 0;
 462              	 .loc 1 170 0
 463 001c 97F90F30 	 ldrsb r3,[r7,#15]
 464 0020 064A     	 ldr r2,.L36
 465 0022 40F24B41 	 movw r1,#1099
 466 0026 01FB03F3 	 mul r3,r1,r3
 467 002a 1344     	 add r3,r3,r2
 468 002c 03F58963 	 add r3,r3,#1096
 469 0030 1A88     	 ldrh r2,[r3]
 470 0032 0022     	 movs r2,#0
 471 0034 1A80     	 strh r2,[r3]
 472              	.L34:
 171:../cleanflight/src/main/drivers/bus_spi.c ****     }
 172:../cleanflight/src/main/drivers/bus_spi.c **** }
 473              	 .loc 1 172 0
 474 0036 1037     	 adds r7,r7,#16
 475              	.LCFI35:
 476              	 .cfi_def_cfa_offset 8
 477 0038 BD46     	 mov sp,r7
 478              	.LCFI36:
 479              	 .cfi_def_cfa_register 13
 480              	 
 481 003a 80BD     	 pop {r7,pc}
 482              	.L37:
 483              	 .align 2
 484              	.L36:
 485 003c 00000000 	 .word spiDevice
 486              	 .cfi_endproc
 487              	.LFE532:
 489              	 .section .text.spiBusWriteRegister,"ax",%progbits
 490              	 .align 2
 491              	 .global spiBusWriteRegister
 492              	 .thumb
 493              	 .thumb_func
 495              	spiBusWriteRegister:
 496              	.LFB533:
 173:../cleanflight/src/main/drivers/bus_spi.c **** 
 174:../cleanflight/src/main/drivers/bus_spi.c **** bool spiBusWriteRegister(const busDevice_t *bus, uint8_t reg, uint8_t data)
 175:../cleanflight/src/main/drivers/bus_spi.c **** {
 497              	 .loc 1 175 0
 498              	 .cfi_startproc
 499              	 
 500              	 
 501 0000 80B5     	 push {r7,lr}
 502              	.LCFI37:
 503              	 .cfi_def_cfa_offset 8
 504              	 .cfi_offset 7,-8
 505              	 .cfi_offset 14,-4
 506 0002 82B0     	 sub sp,sp,#8
 507              	.LCFI38:
 508              	 .cfi_def_cfa_offset 16
 509 0004 00AF     	 add r7,sp,#0
 510              	.LCFI39:
 511              	 .cfi_def_cfa_register 7
 512 0006 7860     	 str r0,[r7,#4]
 513 0008 0B46     	 mov r3,r1
 514 000a FB70     	 strb r3,[r7,#3]
 515 000c 1346     	 mov r3,r2
 516 000e BB70     	 strb r3,[r7,#2]
 176:../cleanflight/src/main/drivers/bus_spi.c ****     IOLo(bus->busdev_u.spi.csnPin);
 517              	 .loc 1 176 0
 518 0010 7B68     	 ldr r3,[r7,#4]
 519 0012 D3F80530 	 ldr r3,[r3,#5]
 520 0016 1846     	 mov r0,r3
 521 0018 FFF7FEFF 	 bl IOLo
 177:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransferByte(bus->busdev_u.spi.instance, reg);
 522              	 .loc 1 177 0
 523 001c 7B68     	 ldr r3,[r7,#4]
 524 001e D3F80120 	 ldr r2,[r3,#1]
 525 0022 FB78     	 ldrb r3,[r7,#3]
 526 0024 1046     	 mov r0,r2
 527 0026 1946     	 mov r1,r3
 528 0028 FFF7FEFF 	 bl spiTransferByte
 178:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransferByte(bus->busdev_u.spi.instance, data);
 529              	 .loc 1 178 0
 530 002c 7B68     	 ldr r3,[r7,#4]
 531 002e D3F80120 	 ldr r2,[r3,#1]
 532 0032 BB78     	 ldrb r3,[r7,#2]
 533 0034 1046     	 mov r0,r2
 534 0036 1946     	 mov r1,r3
 535 0038 FFF7FEFF 	 bl spiTransferByte
 179:../cleanflight/src/main/drivers/bus_spi.c ****     IOHi(bus->busdev_u.spi.csnPin);
 536              	 .loc 1 179 0
 537 003c 7B68     	 ldr r3,[r7,#4]
 538 003e D3F80530 	 ldr r3,[r3,#5]
 539 0042 1846     	 mov r0,r3
 540 0044 FFF7FEFF 	 bl IOHi
 180:../cleanflight/src/main/drivers/bus_spi.c **** 
 181:../cleanflight/src/main/drivers/bus_spi.c ****     return true;
 541              	 .loc 1 181 0
 542 0048 0123     	 movs r3,#1
 182:../cleanflight/src/main/drivers/bus_spi.c **** }
 543              	 .loc 1 182 0
 544 004a 1846     	 mov r0,r3
 545 004c 0837     	 adds r7,r7,#8
 546              	.LCFI40:
 547              	 .cfi_def_cfa_offset 8
 548 004e BD46     	 mov sp,r7
 549              	.LCFI41:
 550              	 .cfi_def_cfa_register 13
 551              	 
 552 0050 80BD     	 pop {r7,pc}
 553              	 .cfi_endproc
 554              	.LFE533:
 556 0052 00BF     	 .section .text.spiBusReadRegisterBuffer,"ax",%progbits
 557              	 .align 2
 558              	 .global spiBusReadRegisterBuffer
 559              	 .thumb
 560              	 .thumb_func
 562              	spiBusReadRegisterBuffer:
 563              	.LFB534:
 183:../cleanflight/src/main/drivers/bus_spi.c **** 
 184:../cleanflight/src/main/drivers/bus_spi.c **** bool spiBusReadRegisterBuffer(const busDevice_t *bus, uint8_t reg, uint8_t *data, uint8_t length)
 185:../cleanflight/src/main/drivers/bus_spi.c **** {
 564              	 .loc 1 185 0
 565              	 .cfi_startproc
 566              	 
 567              	 
 568 0000 80B5     	 push {r7,lr}
 569              	.LCFI42:
 570              	 .cfi_def_cfa_offset 8
 571              	 .cfi_offset 7,-8
 572              	 .cfi_offset 14,-4
 573 0002 84B0     	 sub sp,sp,#16
 574              	.LCFI43:
 575              	 .cfi_def_cfa_offset 24
 576 0004 00AF     	 add r7,sp,#0
 577              	.LCFI44:
 578              	 .cfi_def_cfa_register 7
 579 0006 F860     	 str r0,[r7,#12]
 580 0008 7A60     	 str r2,[r7,#4]
 581 000a 1A46     	 mov r2,r3
 582 000c 0B46     	 mov r3,r1
 583 000e FB72     	 strb r3,[r7,#11]
 584 0010 1346     	 mov r3,r2
 585 0012 BB72     	 strb r3,[r7,#10]
 186:../cleanflight/src/main/drivers/bus_spi.c ****     IOLo(bus->busdev_u.spi.csnPin);
 586              	 .loc 1 186 0
 587 0014 FB68     	 ldr r3,[r7,#12]
 588 0016 D3F80530 	 ldr r3,[r3,#5]
 589 001a 1846     	 mov r0,r3
 590 001c FFF7FEFF 	 bl IOLo
 187:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransferByte(bus->busdev_u.spi.instance, reg | 0x80); // read transaction
 591              	 .loc 1 187 0
 592 0020 FB68     	 ldr r3,[r7,#12]
 593 0022 D3F80120 	 ldr r2,[r3,#1]
 594 0026 FB7A     	 ldrb r3,[r7,#11]
 595 0028 63F07F03 	 orn r3,r3,#127
 596 002c DBB2     	 uxtb r3,r3
 597 002e 1046     	 mov r0,r2
 598 0030 1946     	 mov r1,r3
 599 0032 FFF7FEFF 	 bl spiTransferByte
 188:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransfer(bus->busdev_u.spi.instance, NULL, data, length);
 600              	 .loc 1 188 0
 601 0036 FB68     	 ldr r3,[r7,#12]
 602 0038 D3F80120 	 ldr r2,[r3,#1]
 603 003c BB7A     	 ldrb r3,[r7,#10]
 604 003e 1046     	 mov r0,r2
 605 0040 0021     	 movs r1,#0
 606 0042 7A68     	 ldr r2,[r7,#4]
 607 0044 FFF7FEFF 	 bl spiTransfer
 189:../cleanflight/src/main/drivers/bus_spi.c ****     IOHi(bus->busdev_u.spi.csnPin);
 608              	 .loc 1 189 0
 609 0048 FB68     	 ldr r3,[r7,#12]
 610 004a D3F80530 	 ldr r3,[r3,#5]
 611 004e 1846     	 mov r0,r3
 612 0050 FFF7FEFF 	 bl IOHi
 190:../cleanflight/src/main/drivers/bus_spi.c **** 
 191:../cleanflight/src/main/drivers/bus_spi.c ****     return true;
 613              	 .loc 1 191 0
 614 0054 0123     	 movs r3,#1
 192:../cleanflight/src/main/drivers/bus_spi.c **** }
 615              	 .loc 1 192 0
 616 0056 1846     	 mov r0,r3
 617 0058 1037     	 adds r7,r7,#16
 618              	.LCFI45:
 619              	 .cfi_def_cfa_offset 8
 620 005a BD46     	 mov sp,r7
 621              	.LCFI46:
 622              	 .cfi_def_cfa_register 13
 623              	 
 624 005c 80BD     	 pop {r7,pc}
 625              	 .cfi_endproc
 626              	.LFE534:
 628 005e 00BF     	 .section .text.spiBusReadRegister,"ax",%progbits
 629              	 .align 2
 630              	 .global spiBusReadRegister
 631              	 .thumb
 632              	 .thumb_func
 634              	spiBusReadRegister:
 635              	.LFB535:
 193:../cleanflight/src/main/drivers/bus_spi.c **** 
 194:../cleanflight/src/main/drivers/bus_spi.c **** uint8_t spiBusReadRegister(const busDevice_t *bus, uint8_t reg)
 195:../cleanflight/src/main/drivers/bus_spi.c **** {
 636              	 .loc 1 195 0
 637              	 .cfi_startproc
 638              	 
 639              	 
 640 0000 80B5     	 push {r7,lr}
 641              	.LCFI47:
 642              	 .cfi_def_cfa_offset 8
 643              	 .cfi_offset 7,-8
 644              	 .cfi_offset 14,-4
 645 0002 84B0     	 sub sp,sp,#16
 646              	.LCFI48:
 647              	 .cfi_def_cfa_offset 24
 648 0004 00AF     	 add r7,sp,#0
 649              	.LCFI49:
 650              	 .cfi_def_cfa_register 7
 651 0006 7860     	 str r0,[r7,#4]
 652 0008 0B46     	 mov r3,r1
 653 000a FB70     	 strb r3,[r7,#3]
 196:../cleanflight/src/main/drivers/bus_spi.c ****     uint8_t data;
 197:../cleanflight/src/main/drivers/bus_spi.c ****     IOLo(bus->busdev_u.spi.csnPin);
 654              	 .loc 1 197 0
 655 000c 7B68     	 ldr r3,[r7,#4]
 656 000e D3F80530 	 ldr r3,[r3,#5]
 657 0012 1846     	 mov r0,r3
 658 0014 FFF7FEFF 	 bl IOLo
 198:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransferByte(bus->busdev_u.spi.instance, reg | 0x80); // read transaction
 659              	 .loc 1 198 0
 660 0018 7B68     	 ldr r3,[r7,#4]
 661 001a D3F80120 	 ldr r2,[r3,#1]
 662 001e FB78     	 ldrb r3,[r7,#3]
 663 0020 63F07F03 	 orn r3,r3,#127
 664 0024 DBB2     	 uxtb r3,r3
 665 0026 1046     	 mov r0,r2
 666 0028 1946     	 mov r1,r3
 667 002a FFF7FEFF 	 bl spiTransferByte
 199:../cleanflight/src/main/drivers/bus_spi.c ****     spiTransfer(bus->busdev_u.spi.instance, NULL, &data, 1);
 668              	 .loc 1 199 0
 669 002e 7B68     	 ldr r3,[r7,#4]
 670 0030 D3F80120 	 ldr r2,[r3,#1]
 671 0034 07F10F03 	 add r3,r7,#15
 672 0038 1046     	 mov r0,r2
 673 003a 0021     	 movs r1,#0
 674 003c 1A46     	 mov r2,r3
 675 003e 0123     	 movs r3,#1
 676 0040 FFF7FEFF 	 bl spiTransfer
 200:../cleanflight/src/main/drivers/bus_spi.c ****     IOHi(bus->busdev_u.spi.csnPin);
 677              	 .loc 1 200 0
 678 0044 7B68     	 ldr r3,[r7,#4]
 679 0046 D3F80530 	 ldr r3,[r3,#5]
 680 004a 1846     	 mov r0,r3
 681 004c FFF7FEFF 	 bl IOHi
 201:../cleanflight/src/main/drivers/bus_spi.c **** 
 202:../cleanflight/src/main/drivers/bus_spi.c ****     return data;
 682              	 .loc 1 202 0
 683 0050 FB7B     	 ldrb r3,[r7,#15]
 203:../cleanflight/src/main/drivers/bus_spi.c **** }
 684              	 .loc 1 203 0
 685 0052 1846     	 mov r0,r3
 686 0054 1037     	 adds r7,r7,#16
 687              	.LCFI50:
 688              	 .cfi_def_cfa_offset 8
 689 0056 BD46     	 mov sp,r7
 690              	.LCFI51:
 691              	 .cfi_def_cfa_register 13
 692              	 
 693 0058 80BD     	 pop {r7,pc}
 694              	 .cfi_endproc
 695              	.LFE535:
 697 005a 00BF     	 .section .text.spiBusSetInstance,"ax",%progbits
 698              	 .align 2
 699              	 .global spiBusSetInstance
 700              	 .thumb
 701              	 .thumb_func
 703              	spiBusSetInstance:
 704              	.LFB536:
 204:../cleanflight/src/main/drivers/bus_spi.c **** 
 205:../cleanflight/src/main/drivers/bus_spi.c **** void spiBusSetInstance(busDevice_t *bus, SPI_TypeDef *instance)
 206:../cleanflight/src/main/drivers/bus_spi.c **** {
 705              	 .loc 1 206 0
 706              	 .cfi_startproc
 707              	 
 708              	 
 709              	 
 710 0000 80B4     	 push {r7}
 711              	.LCFI52:
 712              	 .cfi_def_cfa_offset 4
 713              	 .cfi_offset 7,-4
 714 0002 83B0     	 sub sp,sp,#12
 715              	.LCFI53:
 716              	 .cfi_def_cfa_offset 16
 717 0004 00AF     	 add r7,sp,#0
 718              	.LCFI54:
 719              	 .cfi_def_cfa_register 7
 720 0006 7860     	 str r0,[r7,#4]
 721 0008 3960     	 str r1,[r7]
 207:../cleanflight/src/main/drivers/bus_spi.c ****     bus->bustype = BUSTYPE_SPI;
 722              	 .loc 1 207 0
 723 000a 7B68     	 ldr r3,[r7,#4]
 724 000c 0222     	 movs r2,#2
 725 000e 1A70     	 strb r2,[r3]
 208:../cleanflight/src/main/drivers/bus_spi.c ****     bus->busdev_u.spi.instance = instance;
 726              	 .loc 1 208 0
 727 0010 7B68     	 ldr r3,[r7,#4]
 728 0012 3A68     	 ldr r2,[r7]
 729 0014 C3F80120 	 str r2,[r3,#1]
 209:../cleanflight/src/main/drivers/bus_spi.c **** }
 730              	 .loc 1 209 0
 731 0018 0C37     	 adds r7,r7,#12
 732              	.LCFI55:
 733              	 .cfi_def_cfa_offset 4
 734 001a BD46     	 mov sp,r7
 735              	.LCFI56:
 736              	 .cfi_def_cfa_register 13
 737              	 
 738 001c 5DF8047B 	 ldr r7,[sp],#4
 739              	.LCFI57:
 740              	 .cfi_restore 7
 741              	 .cfi_def_cfa_offset 0
 742 0020 7047     	 bx lr
 743              	 .cfi_endproc
 744              	.LFE536:
 746 0022 00BF     	 .text
 747              	.Letext0:
 748              	 .file 2 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 749              	 .file 3 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 750              	 .file 4 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/xmc4700.h"
 751              	 .file 5 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/XMCLib/inc/xmc_usic.h"
 752              	 .file 6 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/platform.h"
 753              	 .file 7 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/io_types.h"
 754              	 .file 8 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/rcc_types.h"
 755              	 .file 9 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus_i2c.h"
 756              	 .file 10 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus.h"
 757              	 .file 11 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus_spi.h"
 758              	 .file 12 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/resource.h"
 759              	 .file 13 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/serial.h"
 760              	 .file 14 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/bus_spi_impl.h"
 761              	 .file 15 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/CMSIS/Core/Include/core_cm4.h"
 762              	 .file 16 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/system_XMC4700.h"
DEFINED SYMBOLS
                            *ABS*:00000000 bus_spi.c
                            *COM*:000019c2 spiDevice
    {standard input}:21     .text.spiDeviceByInstance:00000000 $t
    {standard input}:26     .text.spiDeviceByInstance:00000000 spiDeviceByInstance
    {standard input}:75     .text.spiDeviceByInstance:00000024 $d
    {standard input}:80     .text.spiInstanceByDevice:00000000 $t
    {standard input}:85     .text.spiInstanceByDevice:00000000 spiInstanceByDevice
    {standard input}:138    .text.spiInstanceByDevice:00000038 $d
    {standard input}:143    .text.spiInit:00000000 $t
    {standard input}:148    .text.spiInit:00000000 spiInit
    {standard input}:176    .text.spiInit:0000001c $d
    {standard input}:183    .text.spiInit:00000038 $t
    {standard input}:222    .text.spiTimeoutUserCallback:00000000 $t
    {standard input}:227    .text.spiTimeoutUserCallback:00000000 spiTimeoutUserCallback
    {standard input}:301    .text.spiTimeoutUserCallback:00000078 $d
    {standard input}:306    .text.spiBusTransfer:00000000 $t
    {standard input}:311    .text.spiBusTransfer:00000000 spiBusTransfer
    {standard input}:366    .text.spiGetErrorCounter:00000000 $t
    {standard input}:371    .text.spiGetErrorCounter:00000000 spiGetErrorCounter
    {standard input}:425    .text.spiGetErrorCounter:00000040 $d
    {standard input}:430    .text.spiResetErrorCounter:00000000 $t
    {standard input}:435    .text.spiResetErrorCounter:00000000 spiResetErrorCounter
    {standard input}:485    .text.spiResetErrorCounter:0000003c $d
    {standard input}:490    .text.spiBusWriteRegister:00000000 $t
    {standard input}:495    .text.spiBusWriteRegister:00000000 spiBusWriteRegister
    {standard input}:557    .text.spiBusReadRegisterBuffer:00000000 $t
    {standard input}:562    .text.spiBusReadRegisterBuffer:00000000 spiBusReadRegisterBuffer
    {standard input}:629    .text.spiBusReadRegister:00000000 $t
    {standard input}:634    .text.spiBusReadRegister:00000000 spiBusReadRegister
    {standard input}:698    .text.spiBusSetInstance:00000000 $t
    {standard input}:703    .text.spiBusSetInstance:00000000 spiBusSetInstance
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
spiInitDevice
spiSlaveInitDevice
IOLo
spiTransfer
IOHi
spiTransferByte
