   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,6
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "pinio.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .section .bss.pinioRuntime,"aw",%nobits
  20              	 .align 2
  23              	pinioRuntime:
  24 0000 00000000 	 .space 24
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25              	 .section .text.pinioInit,"ax",%progbits
  26              	 .align 2
  27              	 .global pinioInit
  28              	 .thumb
  29              	 .thumb_func
  31              	pinioInit:
  32              	.LFB526:
  33              	 .file 1 "../cleanflight/src/main/drivers/pinio.c"
   1:../cleanflight/src/main/drivers/pinio.c **** /*
   2:../cleanflight/src/main/drivers/pinio.c ****  * This file is part of Cleanflight and Betaflight.
   3:../cleanflight/src/main/drivers/pinio.c ****  *
   4:../cleanflight/src/main/drivers/pinio.c ****  * Cleanflight and Betaflight are free software. You can redistribute
   5:../cleanflight/src/main/drivers/pinio.c ****  * this software and/or modify this software under the terms of the
   6:../cleanflight/src/main/drivers/pinio.c ****  * GNU General Public License as published by the Free Software
   7:../cleanflight/src/main/drivers/pinio.c ****  * Foundation, either version 3 of the License, or (at your option)
   8:../cleanflight/src/main/drivers/pinio.c ****  * any later version.
   9:../cleanflight/src/main/drivers/pinio.c ****  *
  10:../cleanflight/src/main/drivers/pinio.c ****  * Cleanflight and Betaflight are distributed in the hope that they
  11:../cleanflight/src/main/drivers/pinio.c ****  * will be useful, but WITHOUT ANY WARRANTY; without even the implied
  12:../cleanflight/src/main/drivers/pinio.c ****  * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  13:../cleanflight/src/main/drivers/pinio.c ****  * See the GNU General Public License for more details.
  14:../cleanflight/src/main/drivers/pinio.c ****  *
  15:../cleanflight/src/main/drivers/pinio.c ****  * You should have received a copy of the GNU General Public License
  16:../cleanflight/src/main/drivers/pinio.c ****  * along with this software.
  17:../cleanflight/src/main/drivers/pinio.c ****  *
  18:../cleanflight/src/main/drivers/pinio.c ****  * If not, see <http://www.gnu.org/licenses/>.
  19:../cleanflight/src/main/drivers/pinio.c ****  */
  20:../cleanflight/src/main/drivers/pinio.c **** 
  21:../cleanflight/src/main/drivers/pinio.c **** #include <stdint.h>
  22:../cleanflight/src/main/drivers/pinio.c **** 
  23:../cleanflight/src/main/drivers/pinio.c **** #include "platform.h"
  24:../cleanflight/src/main/drivers/pinio.c **** 
  25:../cleanflight/src/main/drivers/pinio.c **** #ifdef USE_PINIO
  26:../cleanflight/src/main/drivers/pinio.c **** 
  27:../cleanflight/src/main/drivers/pinio.c **** #include "build/debug.h"
  28:../cleanflight/src/main/drivers/pinio.c **** 
  29:../cleanflight/src/main/drivers/pinio.c **** #include "pg/pinio.h"
  30:../cleanflight/src/main/drivers/pinio.c **** 
  31:../cleanflight/src/main/drivers/pinio.c **** #include "drivers/io.h"
  32:../cleanflight/src/main/drivers/pinio.c **** 
  33:../cleanflight/src/main/drivers/pinio.c **** typedef struct pinioRuntime_s {
  34:../cleanflight/src/main/drivers/pinio.c ****     IO_t io;
  35:../cleanflight/src/main/drivers/pinio.c ****     bool inverted;
  36:../cleanflight/src/main/drivers/pinio.c ****     bool state;
  37:../cleanflight/src/main/drivers/pinio.c **** } pinioRuntime_t;
  38:../cleanflight/src/main/drivers/pinio.c **** 
  39:../cleanflight/src/main/drivers/pinio.c **** static pinioRuntime_t pinioRuntime[PINIO_COUNT];
  40:../cleanflight/src/main/drivers/pinio.c **** 
  41:../cleanflight/src/main/drivers/pinio.c **** void pinioInit(const pinioConfig_t *pinioConfig)
  42:../cleanflight/src/main/drivers/pinio.c **** {
  34              	 .loc 1 42 0
  35              	 .cfi_startproc
  36              	 
  37              	 
  38 0000 80B5     	 push {r7,lr}
  39              	.LCFI0:
  40              	 .cfi_def_cfa_offset 8
  41              	 .cfi_offset 7,-8
  42              	 .cfi_offset 14,-4
  43 0002 84B0     	 sub sp,sp,#16
  44              	.LCFI1:
  45              	 .cfi_def_cfa_offset 24
  46 0004 00AF     	 add r7,sp,#0
  47              	.LCFI2:
  48              	 .cfi_def_cfa_register 7
  49 0006 7860     	 str r0,[r7,#4]
  50              	.LBB2:
  43:../cleanflight/src/main/drivers/pinio.c ****     for (int i = 0; i < PINIO_COUNT; i++) {
  51              	 .loc 1 43 0
  52 0008 0023     	 movs r3,#0
  53 000a FB60     	 str r3,[r7,#12]
  54 000c 57E0     	 b .L2
  55              	.L9:
  56              	.LBB3:
  44:../cleanflight/src/main/drivers/pinio.c ****         IO_t io = IOGetByTag(pinioConfig->ioTag[i]);
  57              	 .loc 1 44 0
  58 000e 7A68     	 ldr r2,[r7,#4]
  59 0010 FB68     	 ldr r3,[r7,#12]
  60 0012 1344     	 add r3,r3,r2
  61 0014 1B78     	 ldrb r3,[r3]
  62 0016 1846     	 mov r0,r3
  63 0018 FFF7FEFF 	 bl IOGetByTag
  64 001c B860     	 str r0,[r7,#8]
  45:../cleanflight/src/main/drivers/pinio.c **** 
  46:../cleanflight/src/main/drivers/pinio.c ****         if (!io) {
  65              	 .loc 1 46 0
  66 001e BB68     	 ldr r3,[r7,#8]
  67 0020 002B     	 cmp r3,#0
  68 0022 00D1     	 bne .L3
  47:../cleanflight/src/main/drivers/pinio.c ****             continue;
  69              	 .loc 1 47 0
  70 0024 48E0     	 b .L4
  71              	.L3:
  48:../cleanflight/src/main/drivers/pinio.c ****         }
  49:../cleanflight/src/main/drivers/pinio.c **** 
  50:../cleanflight/src/main/drivers/pinio.c ****         IOInit(io, OWNER_PINIO, RESOURCE_INDEX(i));
  72              	 .loc 1 50 0
  73 0026 FB68     	 ldr r3,[r7,#12]
  74 0028 DBB2     	 uxtb r3,r3
  75 002a 0133     	 adds r3,r3,#1
  76 002c DBB2     	 uxtb r3,r3
  77 002e B868     	 ldr r0,[r7,#8]
  78 0030 3321     	 movs r1,#51
  79 0032 1A46     	 mov r2,r3
  80 0034 FFF7FEFF 	 bl IOInit
  51:../cleanflight/src/main/drivers/pinio.c **** 
  52:../cleanflight/src/main/drivers/pinio.c ****         switch (pinioConfig->config[i] & PINIO_CONFIG_MODE_MASK) {
  81              	 .loc 1 52 0
  82 0038 7A68     	 ldr r2,[r7,#4]
  83 003a FB68     	 ldr r3,[r7,#12]
  84 003c 1344     	 add r3,r3,r2
  85 003e 1B79     	 ldrb r3,[r3,#4]
  86 0040 03F07F03 	 and r3,r3,#127
  87 0044 012B     	 cmp r3,#1
  88 0046 04D1     	 bne .L5
  53:../cleanflight/src/main/drivers/pinio.c ****         case PINIO_CONFIG_MODE_OUT_PP:
  54:../cleanflight/src/main/drivers/pinio.c ****             IOConfigGPIO(io, IOCFG_OUT_PP);
  89              	 .loc 1 54 0
  90 0048 B868     	 ldr r0,[r7,#8]
  91 004a 8021     	 movs r1,#128
  92 004c FFF7FEFF 	 bl IOConfigGPIO
  55:../cleanflight/src/main/drivers/pinio.c ****             break;
  93              	 .loc 1 55 0
  94 0050 00BF     	 nop
  95              	.L5:
  56:../cleanflight/src/main/drivers/pinio.c ****         }
  57:../cleanflight/src/main/drivers/pinio.c **** 
  58:../cleanflight/src/main/drivers/pinio.c ****         if (pinioConfig->config[i] & PINIO_CONFIG_OUT_INVERTED)
  96              	 .loc 1 58 0
  97 0052 7A68     	 ldr r2,[r7,#4]
  98 0054 FB68     	 ldr r3,[r7,#12]
  99 0056 1344     	 add r3,r3,r2
 100 0058 1B79     	 ldrb r3,[r3,#4]
 101 005a DBB2     	 uxtb r3,r3
 102 005c 5BB2     	 sxtb r3,r3
 103 005e 002B     	 cmp r3,#0
 104 0060 0CDA     	 bge .L7
  59:../cleanflight/src/main/drivers/pinio.c ****         {
  60:../cleanflight/src/main/drivers/pinio.c ****             pinioRuntime[i].inverted = true;
 105              	 .loc 1 60 0
 106 0062 1A49     	 ldr r1,.L10
 107 0064 FA68     	 ldr r2,[r7,#12]
 108 0066 1346     	 mov r3,r2
 109 0068 5B00     	 lsls r3,r3,#1
 110 006a 1344     	 add r3,r3,r2
 111 006c 5B00     	 lsls r3,r3,#1
 112 006e 0B44     	 add r3,r3,r1
 113 0070 0122     	 movs r2,#1
 114 0072 1A71     	 strb r2,[r3,#4]
  61:../cleanflight/src/main/drivers/pinio.c ****             IOHi(io);
 115              	 .loc 1 61 0
 116 0074 B868     	 ldr r0,[r7,#8]
 117 0076 FFF7FEFF 	 bl IOHi
 118 007a 0BE0     	 b .L8
 119              	.L7:
  62:../cleanflight/src/main/drivers/pinio.c ****         } else {
  63:../cleanflight/src/main/drivers/pinio.c ****             pinioRuntime[i].inverted = false;
 120              	 .loc 1 63 0
 121 007c 1349     	 ldr r1,.L10
 122 007e FA68     	 ldr r2,[r7,#12]
 123 0080 1346     	 mov r3,r2
 124 0082 5B00     	 lsls r3,r3,#1
 125 0084 1344     	 add r3,r3,r2
 126 0086 5B00     	 lsls r3,r3,#1
 127 0088 0B44     	 add r3,r3,r1
 128 008a 0022     	 movs r2,#0
 129 008c 1A71     	 strb r2,[r3,#4]
  64:../cleanflight/src/main/drivers/pinio.c ****             IOLo(io);
 130              	 .loc 1 64 0
 131 008e B868     	 ldr r0,[r7,#8]
 132 0090 FFF7FEFF 	 bl IOLo
 133              	.L8:
  65:../cleanflight/src/main/drivers/pinio.c ****         }
  66:../cleanflight/src/main/drivers/pinio.c ****         pinioRuntime[i].io = io;
 134              	 .loc 1 66 0
 135 0094 0D49     	 ldr r1,.L10
 136 0096 FA68     	 ldr r2,[r7,#12]
 137 0098 1346     	 mov r3,r2
 138 009a 5B00     	 lsls r3,r3,#1
 139 009c 1344     	 add r3,r3,r2
 140 009e 5B00     	 lsls r3,r3,#1
 141 00a0 0B44     	 add r3,r3,r1
 142 00a2 BA68     	 ldr r2,[r7,#8]
 143 00a4 1A60     	 str r2,[r3]
  67:../cleanflight/src/main/drivers/pinio.c ****         pinioRuntime[i].state = false;
 144              	 .loc 1 67 0
 145 00a6 0949     	 ldr r1,.L10
 146 00a8 FA68     	 ldr r2,[r7,#12]
 147 00aa 1346     	 mov r3,r2
 148 00ac 5B00     	 lsls r3,r3,#1
 149 00ae 1344     	 add r3,r3,r2
 150 00b0 5B00     	 lsls r3,r3,#1
 151 00b2 0B44     	 add r3,r3,r1
 152 00b4 0022     	 movs r2,#0
 153 00b6 5A71     	 strb r2,[r3,#5]
 154              	.L4:
 155              	.LBE3:
  43:../cleanflight/src/main/drivers/pinio.c ****         IO_t io = IOGetByTag(pinioConfig->ioTag[i]);
 156              	 .loc 1 43 0 discriminator 2
 157 00b8 FB68     	 ldr r3,[r7,#12]
 158 00ba 0133     	 adds r3,r3,#1
 159 00bc FB60     	 str r3,[r7,#12]
 160              	.L2:
  43:../cleanflight/src/main/drivers/pinio.c ****         IO_t io = IOGetByTag(pinioConfig->ioTag[i]);
 161              	 .loc 1 43 0 is_stmt 0 discriminator 1
 162 00be FB68     	 ldr r3,[r7,#12]
 163 00c0 032B     	 cmp r3,#3
 164 00c2 A4DD     	 ble .L9
 165              	.LBE2:
  68:../cleanflight/src/main/drivers/pinio.c ****     }
  69:../cleanflight/src/main/drivers/pinio.c **** }
 166              	 .loc 1 69 0 is_stmt 1
 167 00c4 1037     	 adds r7,r7,#16
 168              	.LCFI3:
 169              	 .cfi_def_cfa_offset 8
 170 00c6 BD46     	 mov sp,r7
 171              	.LCFI4:
 172              	 .cfi_def_cfa_register 13
 173              	 
 174 00c8 80BD     	 pop {r7,pc}
 175              	.L11:
 176 00ca 00BF     	 .align 2
 177              	.L10:
 178 00cc 00000000 	 .word pinioRuntime
 179              	 .cfi_endproc
 180              	.LFE526:
 182              	 .section .text.pinioSet,"ax",%progbits
 183              	 .align 2
 184              	 .global pinioSet
 185              	 .thumb
 186              	 .thumb_func
 188              	pinioSet:
 189              	.LFB527:
  70:../cleanflight/src/main/drivers/pinio.c **** 
  71:../cleanflight/src/main/drivers/pinio.c **** void pinioSet(int index, bool on)
  72:../cleanflight/src/main/drivers/pinio.c **** {
 190              	 .loc 1 72 0
 191              	 .cfi_startproc
 192              	 
 193              	 
 194 0000 80B5     	 push {r7,lr}
 195              	.LCFI5:
 196              	 .cfi_def_cfa_offset 8
 197              	 .cfi_offset 7,-8
 198              	 .cfi_offset 14,-4
 199 0002 84B0     	 sub sp,sp,#16
 200              	.LCFI6:
 201              	 .cfi_def_cfa_offset 24
 202 0004 00AF     	 add r7,sp,#0
 203              	.LCFI7:
 204              	 .cfi_def_cfa_register 7
 205 0006 7860     	 str r0,[r7,#4]
 206 0008 0B46     	 mov r3,r1
 207 000a FB70     	 strb r3,[r7,#3]
  73:../cleanflight/src/main/drivers/pinio.c ****     bool newState = on ^ pinioRuntime[index].inverted;
 208              	 .loc 1 73 0
 209 000c F978     	 ldrb r1,[r7,#3]
 210 000e 1948     	 ldr r0,.L14
 211 0010 7A68     	 ldr r2,[r7,#4]
 212 0012 1346     	 mov r3,r2
 213 0014 5B00     	 lsls r3,r3,#1
 214 0016 1344     	 add r3,r3,r2
 215 0018 5B00     	 lsls r3,r3,#1
 216 001a 0344     	 add r3,r3,r0
 217 001c 1B79     	 ldrb r3,[r3,#4]
 218 001e 4B40     	 eors r3,r3,r1
 219 0020 002B     	 cmp r3,#0
 220 0022 14BF     	 ite ne
 221 0024 0123     	 movne r3,#1
 222 0026 0023     	 moveq r3,#0
 223 0028 FB73     	 strb r3,[r7,#15]
  74:../cleanflight/src/main/drivers/pinio.c ****     if (newState != pinioRuntime[index].state) {
 224              	 .loc 1 74 0
 225 002a 1249     	 ldr r1,.L14
 226 002c 7A68     	 ldr r2,[r7,#4]
 227 002e 1346     	 mov r3,r2
 228 0030 5B00     	 lsls r3,r3,#1
 229 0032 1344     	 add r3,r3,r2
 230 0034 5B00     	 lsls r3,r3,#1
 231 0036 0B44     	 add r3,r3,r1
 232 0038 5B79     	 ldrb r3,[r3,#5]
 233 003a FA7B     	 ldrb r2,[r7,#15]
 234 003c 9A42     	 cmp r2,r3
 235 003e 15D0     	 beq .L12
  75:../cleanflight/src/main/drivers/pinio.c ****         IOWrite(pinioRuntime[index].io, newState);
 236              	 .loc 1 75 0
 237 0040 0C49     	 ldr r1,.L14
 238 0042 7A68     	 ldr r2,[r7,#4]
 239 0044 1346     	 mov r3,r2
 240 0046 5B00     	 lsls r3,r3,#1
 241 0048 1344     	 add r3,r3,r2
 242 004a 5B00     	 lsls r3,r3,#1
 243 004c 0B44     	 add r3,r3,r1
 244 004e 1A68     	 ldr r2,[r3]
 245 0050 FB7B     	 ldrb r3,[r7,#15]
 246 0052 1046     	 mov r0,r2
 247 0054 1946     	 mov r1,r3
 248 0056 FFF7FEFF 	 bl IOWrite
  76:../cleanflight/src/main/drivers/pinio.c ****         pinioRuntime[index].state = newState;
 249              	 .loc 1 76 0
 250 005a 0649     	 ldr r1,.L14
 251 005c 7A68     	 ldr r2,[r7,#4]
 252 005e 1346     	 mov r3,r2
 253 0060 5B00     	 lsls r3,r3,#1
 254 0062 1344     	 add r3,r3,r2
 255 0064 5B00     	 lsls r3,r3,#1
 256 0066 0B44     	 add r3,r3,r1
 257 0068 FA7B     	 ldrb r2,[r7,#15]
 258 006a 5A71     	 strb r2,[r3,#5]
 259              	.L12:
  77:../cleanflight/src/main/drivers/pinio.c ****     }
  78:../cleanflight/src/main/drivers/pinio.c **** }
 260              	 .loc 1 78 0
 261 006c 1037     	 adds r7,r7,#16
 262              	.LCFI8:
 263              	 .cfi_def_cfa_offset 8
 264 006e BD46     	 mov sp,r7
 265              	.LCFI9:
 266              	 .cfi_def_cfa_register 13
 267              	 
 268 0070 80BD     	 pop {r7,pc}
 269              	.L15:
 270 0072 00BF     	 .align 2
 271              	.L14:
 272 0074 00000000 	 .word pinioRuntime
 273              	 .cfi_endproc
 274              	.LFE527:
 276              	 .text
 277              	.Letext0:
 278              	 .file 2 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 279              	 .file 3 "d:\\xmc\\dave-ide-4.4.2-64bit\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 280              	 .file 4 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/XMCLib/inc/xmc4_gpio.h"
 281              	 .file 5 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/XMCLib/inc/xmc_usic.h"
 282              	 .file 6 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/io_types.h"
 283              	 .file 7 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/pg/pinio.h"
 284              	 .file 8 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/build/debug.h"
 285              	 .file 9 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/src/main/drivers/resource.h"
 286              	 .file 10 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/CMSIS/Core/Include/core_cm4.h"
 287              	 .file 11 "D:/XMC/Projekte/Temp/CF_XMC4700/cleanflight/lib/main/XMC4000/system_XMC4700.h"
DEFINED SYMBOLS
                            *ABS*:00000000 pinio.c
    {standard input}:20     .bss.pinioRuntime:00000000 $d
    {standard input}:23     .bss.pinioRuntime:00000000 pinioRuntime
    {standard input}:26     .text.pinioInit:00000000 $t
    {standard input}:31     .text.pinioInit:00000000 pinioInit
    {standard input}:178    .text.pinioInit:000000cc $d
    {standard input}:183    .text.pinioSet:00000000 $t
    {standard input}:188    .text.pinioSet:00000000 pinioSet
    {standard input}:272    .text.pinioSet:00000074 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
IOGetByTag
IOInit
IOConfigGPIO
IOHi
IOLo
IOWrite
